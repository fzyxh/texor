<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="texor">
<title>Introduction to texor • texor</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.11/clipboard.min.js" integrity="sha512-7O5pXpc0oCRrxk8RUfDYFgn0nO1t+jLuIOQdOMRp4APB7uZ4vSjspzp5y6YDtDs4VzUSTbWzBFZ/LKJhnyFOKw==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Introduction to texor">
<meta property="og:description" content="texor">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary" data-bs-theme="dark"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">texor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="active nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/environment-handling.html">Environment Handling</a>
    <a class="dropdown-item" href="../articles/introduction-to-texor.html">Introduction to texor</a>
  </div>
</li>
<li class="nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Abhi-1U/texor/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="" class="logo" alt=""><h1>Introduction to texor</h1>
            <h3 data-toc-skip class="subtitle">tools for converting
LaTeX source files into RJ-web-articles</h3>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Abhi-1U/texor/blob/HEAD/vignettes/introduction-to-texor.Rmd" class="external-link"><code>vignettes/introduction-to-texor.Rmd</code></a></small>
      <div class="d-none name"><code>introduction-to-texor.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>texor is a proposed package that can help in converting old LaTeX
based documents, research papers to HTML through intermediate
conversions. This is particularly a problem for R Research papers where
HTML export was not available and hence modern compatibility to export a
HTML file was missed out. To bring these documents online HTML based
webpages are a much better alternative as opposed to PDFs and to solve
the lack of web versions texor will provide a mechanism.</p>
<div class="section level3">
<h3 id="conversion-workflow">Conversion Workflow:<a class="anchor" aria-label="anchor" href="#conversion-workflow"></a>
</h3>
<div class="section level4">
<h4 id="stage-0-preparing-to-convert">Stage 0 : preparing to convert<a class="anchor" aria-label="anchor" href="#stage-0-preparing-to-convert"></a>
</h4>
<p>In this stage, we will check the basics like using correct path,
normalizing the path,extracting the file_name/ wrapper_name etc..</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># normalizing path using xfun package</span></span>
<span><span class="va">dir</span> <span class="op">&lt;-</span> <span class="fu">xfun</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/xfun/man/normalize_path.html" class="external-link">normalize_path</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># getting wrapper file name</span></span>
<span><span class="va">wrapper_file</span> <span class="op">&lt;-</span> <span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/get_wrapper_type.html">get_wrapper_type</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># getting the main LaTeX file name</span></span>
<span><span class="va">file_name</span> <span class="op">&lt;-</span> <span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/get_texfile_name.html">get_texfile_name</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-1-copyingremoving-style-files">Stage 1 : Copying/Removing Style files<a class="anchor" aria-label="anchor" href="#stage-1-copyingremoving-style-files"></a>
</h4>
<p>Pandoc does not need, all of the style files as it is not trying to
compile, but rather convert. Hence, to workaround certain limitations,
we have to remove the RJournal.sty file and include a new style file
which redefines certain commands.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># This function will remove RJournal.sty file,</span></span>
<span><span class="co"># Copy the Metafix.sty file and link it in wrapper.</span></span>
<span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/include_style_file.html">include_style_file</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-2-handling-bibliographies">Stage 2 : Handling Bibliographies<a class="anchor" aria-label="anchor" href="#stage-2-handling-bibliographies"></a>
</h4>
<p>As we do not desire the embedded bibliography to be included as a div
element in the article itself, we need to convert it to Bibtex
format.</p>
<p>For removing the bibliography div elements from the article we use a
Lua filter later on.</p>
<p>For converting the embedded bibliography we use rebib package. By
default I have set up the bibliography aggregation function, which will
logically create/update the bibtex file and include it in the
article_tex_file as well (if not linked).</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># bibliography aggregation when both bibtex and embedded bibliography available,</span></span>
<span><span class="co"># Using Bibtex file for bibliography if no embedded bibliography available,</span></span>
<span><span class="co"># Create a new bibtex file using the embedded bibliography in the document.</span></span>
<span><span class="fu">rebib</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/rebib/man/aggregate_bibliography.html" class="external-link">aggregate_bibliography</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-3-handing-figures">Stage 3 : Handing Figures<a class="anchor" aria-label="anchor" href="#stage-3-handing-figures"></a>
</h4>
<p>Texor package creates a yaml report about the figure environments,
including tikz, algorithm2e images. There is also a logical function
which uses pandoc’s Image data for converting PDF images to PNG.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">data</span> <span class="op">&lt;-</span> <span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/handle_figures.html">handle_figures</a></span><span class="op">(</span><span class="va">dir</span>, <span class="va">file_name</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-4-patching-environments">Stage 4 : Patching Environments<a class="anchor" aria-label="anchor" href="#stage-4-patching-environments"></a>
</h4>
<p>Pandoc does not support certain environments, like:<br>
in figures : figure*, algorithmic, algorithm. in table : table*.<br>
in code : example, example*, Sin, Sout, Scode, Sinput, Soutput,
smallverbatim, boxedverbatim.</p>
<p>Here, texor will use the stream editor to patch these environments to
the default types <code>figure</code>,<code>table</code> and
<code>verbatim</code>.</p>
<p>There is also a function to patch equations (especially eqnarray
environment).</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/patch_code_env.html">patch_code_env</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span>
<span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/patch_table_env.html">patch_table_env</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span>
<span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/patch_figure_env.html">patch_figure_env</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span>
<span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/patch_equations.html">patch_equations</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-5-converting-the-latex-document-to-markdown">Stage 5 : Converting the LaTeX document to Markdown<a class="anchor" aria-label="anchor" href="#stage-5-converting-the-latex-document-to-markdown"></a>
</h4>
<p>Here we will convert the document to Markdown, with a lot of Lua
filters modifying the document.</p>
<p>pre_conversion statistics will read through the article and find
statistical elements like figure, table, code blocks, citations etc.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">meta</span> <span class="op">&lt;-</span> <span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/pre_conversion_statistics.html">pre_conversion_statistics</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span>
<span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/convert_to_markdown.html">convert_to_markdown</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-6-copying-over-dependency-files">Stage 6 : Copying over dependency files<a class="anchor" aria-label="anchor" href="#stage-6-copying-over-dependency-files"></a>
</h4>
<p>This function will copy the files such as figures of all kinds,
bibtex file, pdfs etc. to the /web folder.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/copy_other_files.html">copy_other_files</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-7-converting-the-markdown-to-rmarkdown">Stage 7 : Converting the Markdown to Rmarkdown<a class="anchor" aria-label="anchor" href="#stage-7-converting-the-markdown-to-rmarkdown"></a>
</h4>
<p>In this stage we convert the markdown to Rmarkdown by reading and
adding metadata information like ctv,CRANpkgs,BIOpkgs,slug,author
metadata, title, abstract,etc..</p>
<p>We also add important parameters for
<code><a href="https://rdrr.io/pkg/rjtools/man/rjournal_article.html" class="external-link">rjtools::rjournal_web_article</a></code> like:</p>
<ol style="list-style-type: decimal">
<li>self_contained = TRUE</li>
<li>toc = FALSE</li>
<li>legacy_pdf = TRUE</li>
<li>web_only = TRUE</li>
<li>mathjax = “<a href="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" class="external-link uri">https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js</a>”</li>
</ol>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/generate_rmd.html">generate_rmd</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="stage-8-creating-rj-web-article-from-the-rmarkdown-file">Stage 8 : Creating RJ-web-article from the Rmarkdown file<a class="anchor" aria-label="anchor" href="#stage-8-creating-rj-web-article-from-the-rmarkdown-file"></a>
</h4>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">texor</span><span class="fu">::</span><span class="fu"><a href="../reference/produce_html.html">produce_html</a></span><span class="op">(</span><span class="va">dir</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level3">
<h3 id="note-on-dependencies">Note on Dependencies<a class="anchor" aria-label="anchor" href="#note-on-dependencies"></a>
</h3>
<p>This package is involved with solving conversion problems on multiple
fronts, thus has to rely on multiple software tools. A list with
reasoning is included here:</p>
<ol style="list-style-type: decimal">
<li>Pandoc (min: V3.1) <a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;included in Rstudio&lt;/p&gt;"><sup>1</sup></a> : To convert the basic LaTeX to
rmarkdown.</li>
<li>poppler pdfutils : To convert embedded PDF to PNG.</li>
<li>LaTeX/TinyTex<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;read more &lt;a href="https://yihui.org/tinytex/" class="external-link"&gt;here&lt;/a&gt;&lt;/p&gt;'><sup>2</sup></a> : For Tikz and PDF article generation.</li>
<li>rebib : For bibliography conversions/aggregations.</li>
<li>rjtools : For the rjournal_web_article template.</li>
<li>stringr : for string manipulation functions.</li>
<li>Lua filters <a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt;Filters are included in texor package&lt;/p&gt;"><sup>3</sup></a> <a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;Filters as standalone are also available at &lt;a href="https://github.com/Abhi-1U/tex-lua-filters" class="external-link"&gt;this github repo&lt;/a&gt;&lt;/p&gt;'><sup>4</sup></a> : Filters for manipulation of ingested
files.</li>
</ol>
</div>
</div>

  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Put Together By Abhishek Ulayil.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.9.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>

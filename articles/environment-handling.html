<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Environment Handling • texor</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.4.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.4.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Environment Handling">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">texor</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.4.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/environment-handling.html">Environment Handling</a></li>
    <li><a class="dropdown-item" href="../articles/introduction-to-texor.html">Introduction to texor</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/Abhi-1U/texor/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Environment Handling</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/Abhi-1U/texor/blob/main/vignettes/environment-handling.Rmd" class="external-link"><code>vignettes/environment-handling.Rmd</code></a></small>
      <div class="d-none name"><code>environment-handling.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="working-with-figure-environments">Working with Figure Environments<a class="anchor" aria-label="anchor" href="#working-with-figure-environments"></a>
</h2>
<p>Images are an essential component in any article, However due to the
differences in the support for various graphic formats between LaTeX and
markdown/HTML we need to fallback on raster graphics.</p>
<table class="table">
<caption>Image Format support in various Markup/Typesetting
Languages</caption>
<colgroup>
<col width="22%">
<col width="12%">
<col width="12%">
<col width="39%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">Graphics.Format</th>
<th align="left">LaTeX</th>
<th align="left">Markdown</th>
<th align="left">RMarkdown</th>
<th align="left">HTML</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">PNG</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓</td>
</tr>
<tr class="even">
<td align="left">JPG</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓</td>
</tr>
<tr class="odd">
<td align="left">PDF</td>
<td align="left">✓</td>
<td align="left">✗</td>
<td align="left">✗</td>
<td align="left">✗</td>
</tr>
<tr class="even">
<td align="left">SVG</td>
<td align="left">✗</td>
<td align="left">✓</td>
<td align="left">✓</td>
<td align="left">✓</td>
</tr>
<tr class="odd">
<td align="left">Tikz</td>
<td align="left">✓</td>
<td align="left">✗</td>
<td align="left">✓(using tikz engine)</td>
<td align="left">✗</td>
</tr>
<tr class="even">
<td align="left">Algorithm</td>
<td align="left">✓</td>
<td align="left">✗</td>
<td align="left">✗</td>
<td align="left">✗</td>
</tr>
</tbody>
</table>
<p>As we can observe from the above table, raster (PNG and JPG) images
are relatively easy to handle and do not require any additional
pre-processing. Pandoc handles it well.</p>
<p>PNG,JPG images are easily included as markdown images with captions,
labels and other parameters.</p>
<p>For other image formats like tikz and algorithm, they are first
isolated and compiled into a PDF, then to a PNG using pdftools
package.</p>
<div class="section level4">
<h4 id="for-the-best-results-after-conversion">For the best results after conversion :<a class="anchor" aria-label="anchor" href="#for-the-best-results-after-conversion"></a>
</h4>
<ol style="list-style-type: decimal">
<li>Avoid using framebox or any other latex command to wrap the
<code>\includegraphics{}</code> . This might interfere with the packages
ability to properly read the path and copy the relevant image
properly.</li>
<li>Try to keep the actual content of the caption without any LaTeX
markup (normal text), as it is not reflected in HTML properly.</li>
</ol>
<p>For example :</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb1-1"><a href="#cb1-1" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">figure</span>}</span>
<span id="cb1-2"><a href="#cb1-2" tabindex="-1"></a>  <span class="bu">\includegraphics</span>{<span class="ex">image/sample.png</span>}</span>
<span id="cb1-3"><a href="#cb1-3" tabindex="-1"></a>  <span class="fu">\caption</span>{This is a sample caption}</span>
<span id="cb1-4"><a href="#cb1-4" tabindex="-1"></a>  <span class="fu">\labeL</span>{fig:image-1}</span>
<span id="cb1-5"><a href="#cb1-5" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">figure</span>}</span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="working-with-table-environments">Working with Table Environments<a class="anchor" aria-label="anchor" href="#working-with-table-environments"></a>
</h2>
<p>Tables are commonly used in RJ articles to display data in a tabular
format. However, there are differences in the way tables are handled by
LaTeX and HTML.</p>
<p>LaTeX tables have more customization and are usually optimized for
printing, whereas the web articles need tables optimized for varying
sizes of media.</p>
<p>pandoc converts most of the tables somewhat easily, but is unable to
do well with table customization packages and complex tables.</p>
<p>Some pandoc extensions are used in order to tackle them, they are :
<code>simple_tables</code>, <code>pipe_tables</code></p>
<p>Limited Multicolumn support is included.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode latex"><code class="sourceCode latex"><span id="cb2-1"><a href="#cb2-1" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">table*</span>}[t!]</span>
<span id="cb2-2"><a href="#cb2-2" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">center</span>}</span>
<span id="cb2-3"><a href="#cb2-3" tabindex="-1"></a><span class="kw">\begin</span>{<span class="ex">tabular</span>}{l | llll }</span>
<span id="cb2-4"><a href="#cb2-4" tabindex="-1"></a> <span class="fu">\hline</span></span>
<span id="cb2-5"><a href="#cb2-5" tabindex="-1"></a> <span class="fu">\multicolumn</span>{1}{c |}{EXAMPLE} <span class="op">&amp;</span> <span class="fu">\multicolumn</span>{2}{c}{<span class="ss">$X$</span>} <span class="op">&amp;</span></span>
<span id="cb2-6"><a href="#cb2-6" tabindex="-1"></a><span class="fu">\multicolumn</span>{2}{c}{<span class="ss">$Y$</span>} <span class="fu">\\</span></span>
<span id="cb2-7"><a href="#cb2-7" tabindex="-1"></a> <span class="fu">\hline</span></span>
<span id="cb2-8"><a href="#cb2-8" tabindex="-1"></a>  <span class="op">&amp;</span> 1 <span class="op">&amp;</span> 2 <span class="op">&amp;</span> 1 <span class="op">&amp;</span> 2 <span class="fu">\\</span></span>
<span id="cb2-9"><a href="#cb2-9" tabindex="-1"></a> EX1  <span class="op">&amp;</span> X11 <span class="op">&amp;</span> X12 <span class="op">&amp;</span>  Y11  <span class="op">&amp;</span> Y12 <span class="fu">\\</span></span>
<span id="cb2-10"><a href="#cb2-10" tabindex="-1"></a> EX2  <span class="op">&amp;</span> X21 <span class="op">&amp;</span> X22 <span class="op">&amp;</span>  Y21  <span class="op">&amp;</span> Y22 <span class="fu">\\</span></span>
<span id="cb2-11"><a href="#cb2-11" tabindex="-1"></a> EX3  <span class="op">&amp;</span> X31 <span class="op">&amp;</span> X32 <span class="op">&amp;</span>  Y31  <span class="op">&amp;</span> Y32 <span class="fu">\\</span></span>
<span id="cb2-12"><a href="#cb2-12" tabindex="-1"></a> EX4  <span class="op">&amp;</span> X41 <span class="op">&amp;</span> X42 <span class="op">&amp;</span>  Y41  <span class="op">&amp;</span> Y42<span class="fu">\\</span></span>
<span id="cb2-13"><a href="#cb2-13" tabindex="-1"></a> EX5  <span class="op">&amp;</span> X51 <span class="op">&amp;</span> X52 <span class="op">&amp;</span>  Y51  <span class="op">&amp;</span> Y52 <span class="fu">\\</span></span>
<span id="cb2-14"><a href="#cb2-14" tabindex="-1"></a><span class="fu">\hline</span></span>
<span id="cb2-15"><a href="#cb2-15" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">tabular</span>}</span>
<span id="cb2-16"><a href="#cb2-16" tabindex="-1"></a><span class="kw">\label</span>{<span class="ex">table1</span>} <span class="fu">\caption</span>{An Example Table with Multicolumn}</span>
<span id="cb2-17"><a href="#cb2-17" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">center</span>}</span>
<span id="cb2-18"><a href="#cb2-18" tabindex="-1"></a><span class="kw">\end</span>{<span class="ex">table*</span>}</span></code></pre></div>
<p>The above example illustrates a complicated table, which the texor
package can handle through subroutines and pre-processing step to
transform the LaTeX code.</p>
<ol style="list-style-type: decimal">
<li>The Stream Editor modifies the <code>\multicolumn{..}</code> to
<code>\multicolumnx{..}</code>
</li>
<li>Then a LaTeX macro redefines the <code>\multicolumnx{..}</code> to
<code>\multicolumn{---}</code>, which is accepted by pandoc.</li>
<li>Finally pandoc reads the table and transforms it to markdown.</li>
</ol>
<p>Also note that the stream editor is used to rename
<code>table*</code> environment to <code>table</code> environment
because the markdown/HTML will not support the specific changes
<code>table*</code> environment will bring.</p>
<p>The Resulting Markdown Generated would look like :</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb3-1"><a href="#cb3-1" tabindex="-1"></a>::: center</span>
<span id="cb3-2"><a href="#cb3-2" tabindex="-1"></a>::: {#table1}</span>
<span id="cb3-3"><a href="#cb3-3" tabindex="-1"></a>  -------------------------------------</span>
<span id="cb3-4"><a href="#cb3-4" tabindex="-1"></a>  EXAMPLE   <span class="sc">\(</span>X<span class="sc">\)</span>         <span class="sc">\(</span>Y<span class="sc">\)</span>   </span>
<span id="cb3-5"><a href="#cb3-5" tabindex="-1"></a>  --------- ------- ----- ------- -----</span>
<span id="cb3-6"><a href="#cb3-6" tabindex="-1"></a><span class="in">            1       2     1       2</span></span>
<span id="cb3-7"><a href="#cb3-7" tabindex="-1"></a></span>
<span id="cb3-8"><a href="#cb3-8" tabindex="-1"></a>  EX1       X11     X12   Y11     Y12</span>
<span id="cb3-9"><a href="#cb3-9" tabindex="-1"></a></span>
<span id="cb3-10"><a href="#cb3-10" tabindex="-1"></a>  EX2       X21     X22   Y21     Y22</span>
<span id="cb3-11"><a href="#cb3-11" tabindex="-1"></a></span>
<span id="cb3-12"><a href="#cb3-12" tabindex="-1"></a>  EX3       X31     X32   Y31     Y32</span>
<span id="cb3-13"><a href="#cb3-13" tabindex="-1"></a></span>
<span id="cb3-14"><a href="#cb3-14" tabindex="-1"></a>  EX4       X41     X42   Y41     Y42</span>
<span id="cb3-15"><a href="#cb3-15" tabindex="-1"></a></span>
<span id="cb3-16"><a href="#cb3-16" tabindex="-1"></a>  EX5       X51     X52   Y51     Y52</span>
<span id="cb3-17"><a href="#cb3-17" tabindex="-1"></a>  -------------------------------------</span>
<span id="cb3-18"><a href="#cb3-18" tabindex="-1"></a></span>
<span id="cb3-19"><a href="#cb3-19" tabindex="-1"></a>  : Table 1: An Example Table with Multicolumn</span>
<span id="cb3-20"><a href="#cb3-20" tabindex="-1"></a>:::</span>
<span id="cb3-21"><a href="#cb3-21" tabindex="-1"></a></span>
<span id="cb3-22"><a href="#cb3-22" tabindex="-1"></a>[]{#table1 label="table1"}</span>
<span id="cb3-23"><a href="#cb3-23" tabindex="-1"></a>:::</span></code></pre></div>
</div>
<div class="section level2">
<h2 id="working-with-code-environments">Working with Code Environments<a class="anchor" aria-label="anchor" href="#working-with-code-environments"></a>
</h2>
<p>Pandoc naturally converts verbatim environment easily, however the
redefination of other commands such as <code>example</code>,
<code>example*</code>, <code>Sinput</code> etc to verbatim does not work
well in pandoc.</p>
<p>Hence Texor package uses the stream editor to search find and replace
matching code environments to verbatim before pandoc touches it.</p>
<p>This way the the code is not lost in conversion, also a pandoc
extension is used to add attributes to the markdown code using
’fenced_code_attributes`</p>
<div class="section level3">
<h3 id="supported-rj-article-latex-code-environment">Supported RJ-article (LaTeX) code environment:<a class="anchor" aria-label="anchor" href="#supported-rj-article-latex-code-environment"></a>
</h3>
<table class="table">
<caption>Code Environment support in texor</caption>
<colgroup>
<col width="22%">
<col width="40%">
<col width="36%">
</colgroup>
<thead><tr class="header">
<th align="left">example</th>
<th align="left">S.series</th>
<th align="left">special.verbatim</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">example, example*</td>
<td align="left">Sin, Sout, Scode,Sinput,Soutput</td>
<td align="left">smallverbatim, boxedverbatim</td>
</tr></tbody>
</table>
<p>Note that any special markup (like font-size, font-style) bought by
any of these code environments will be lost, However the retained text
will have syntax highlighting (for R by default, if you want to change
the syntax highlighting, change the language in the markdown source code
formed)</p>
</div>
</div>
<div class="section level2">
<h2 id="working-with-math-environments">Working with Math Environments<a class="anchor" aria-label="anchor" href="#working-with-math-environments"></a>
</h2>
<p>Math typesetting has always been LaTeX’s highlight feature, making it
a de facto choice among academicians and researchers globally. However,
as we proceed to our humble web interfaces, math is hard to describe
traditionally. There have been advancements in JavaScript libraries to
better Typeset and present math in web pages but not all LaTeX
commands/math functions are available.</p>
<p>The texor package uses Mathjax version 3<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content='&lt;p&gt;more info &lt;a href="https://www.mathjax.org/" class="external-link"&gt;here&lt;/a&gt;&lt;/p&gt;'><sup>1</sup></a> to enhance the visual
look of the math content in HTML. There is support for equations, inline
math, and equation numbering.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Put Together By Abhishek Ulayil.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
